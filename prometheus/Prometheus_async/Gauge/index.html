<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Gauge (prometheus.Prometheus_async.Gauge)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">prometheus</a> &#x00BB; <a href="../index.html">Prometheus_async</a> &#x00BB; Gauge</nav><h1>Module <code>Prometheus_async.Gauge</code></h1><p>A gauge is a metric that represents a single numerical value that can arbitrarily go up and down.</p></header><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="../index.html#module-type-METRIC">METRIC</a></code></span></summary><dl><dt class="spec type" id="type-family"><a href="#type-family" class="anchor"></a><code><span class="keyword">type</span> family</code></dt><dd><p>A collection of metrics that are the same except for their labels. e.g. &quot;Number of HTTP responses&quot;</p></dd></dl><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dd><p>A particular metric. e.g. &quot;Number of HTTP responses with code=404&quot;</p></dd></dl><dl><dt class="spec value" id="val-v_labels"><a href="#val-v_labels" class="anchor"></a><code><span class="keyword">val</span> v_labels : <span>label_names:<span>string list</span></span> <span>&#45;&gt;</span> <span>?&#8288;registry:<a href="../CollectorRegistry/index.html#type-t">CollectorRegistry.t</a></span> <span>&#45;&gt;</span> <span>help:string</span> <span>&#45;&gt;</span> <span>?&#8288;namespace:string</span> <span>&#45;&gt;</span> <span>?&#8288;subsystem:string</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-family">family</a></code></dt><dd><p><code>v_labels ~label_names ~help ~namespace ~subsystem name</code> is a family of metrics with full name <code>namespace_subsystem_name</code> and documentation string <code>help</code>. Each metric in the family will provide a value for each of the labels. The new family is registered with <code>registry</code> (default: <a href="../CollectorRegistry/index.html#val-default"><code>CollectorRegistry.default</code></a>).</p></dd></dl><dl><dt class="spec value" id="val-labels"><a href="#val-labels" class="anchor"></a><code><span class="keyword">val</span> labels : <a href="index.html#type-family">family</a> <span>&#45;&gt;</span> <span>string list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>labels family label_values</code> is the metric in <code>family</code> with these values for the labels. The order of the values must be the same as the order of the <code>label_names</code> passed to <code>v_labels</code>; you may wish to write a wrapper function with labelled arguments to avoid mistakes. If this is called multiple times with the same set of values, the existing metric will be returned.</p></dd></dl><dl><dt class="spec value" id="val-v_label"><a href="#val-v_label" class="anchor"></a><code><span class="keyword">val</span> v_label : <span>label_name:string</span> <span>&#45;&gt;</span> <span>?&#8288;registry:<a href="../CollectorRegistry/index.html#type-t">CollectorRegistry.t</a></span> <span>&#45;&gt;</span> <span>help:string</span> <span>&#45;&gt;</span> <span>?&#8288;namespace:string</span> <span>&#45;&gt;</span> <span>?&#8288;subsystem:string</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>v_label</code> is a convenience wrapper around <code>v_labels</code> for the case where there is a single label. The result is a function from the single label's value to the metric.</p></dd></dl><dl><dt class="spec value" id="val-v"><a href="#val-v" class="anchor"></a><code><span class="keyword">val</span> v : <span>?&#8288;registry:<a href="../CollectorRegistry/index.html#type-t">CollectorRegistry.t</a></span> <span>&#45;&gt;</span> <span>help:string</span> <span>&#45;&gt;</span> <span>?&#8288;namespace:string</span> <span>&#45;&gt;</span> <span>?&#8288;subsystem:string</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>v</code> is a convenience wrapper around <code>v_labels</code> for the case where there are no labels.</p></dd></dl></details></div></div></div><dl><dt class="spec value" id="val-inc_one"><a href="#val-inc_one" class="anchor"></a><code><span class="keyword">val</span> inc_one : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-inc"><a href="#val-inc" class="anchor"></a><code><span class="keyword">val</span> inc : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> float <span>&#45;&gt;</span> unit</code></dt><dd><p><code>inc t v</code> increases the current value of the guage by <code>v</code>.</p></dd></dl><dl><dt class="spec value" id="val-dec_one"><a href="#val-dec_one" class="anchor"></a><code><span class="keyword">val</span> dec_one : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-dec"><a href="#val-dec" class="anchor"></a><code><span class="keyword">val</span> dec : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> float <span>&#45;&gt;</span> unit</code></dt><dd><p><code>dec t v</code> decreases the current value of the guage by <code>v</code>.</p></dd></dl><dl><dt class="spec value" id="val-set"><a href="#val-set" class="anchor"></a><code><span class="keyword">val</span> set : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> float <span>&#45;&gt;</span> unit</code></dt><dd><p><code>set t v</code> sets the current value of the guage to <code>v</code>.</p></dd></dl><dl><dt class="spec value" id="val-track_inprogress"><a href="#val-track_inprogress" class="anchor"></a><code><span class="keyword">val</span> track_inprogress : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>(unit <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Async.Deferred.t</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Async.Deferred.t</span></code></dt><dd><p><code>track_inprogress t f</code> increases the value of the gauge by one while <code>f ()</code> is running.</p></dd></dl><dl><dt class="spec value" id="val-time"><a href="#val-time" class="anchor"></a><code><span class="keyword">val</span> time : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>(unit <span>&#45;&gt;</span> float)</span> <span>&#45;&gt;</span> <span>(unit <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Async.Deferred.t</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Async.Deferred.t</span></code></dt><dd><p><code>time t gettime f</code> calls <code>gettime ()</code> before and after executing <code>f ()</code> and increases the metric by the difference.</p></dd></dl></div></body></html>